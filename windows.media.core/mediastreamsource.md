---
-api-id: T:Windows.Media.Core.MediaStreamSource
-api-type: winrt class
---

<!-- Class syntax.
public class MediaStreamSource : Windows.Media.Core.IMediaSource, Windows.Media.Core.IMediaStreamSource, Windows.Media.Core.IMediaStreamSource2, Windows.Media.Core.IMediaStreamSource3
-->

# Windows.Media.Core.MediaStreamSource

## -description
Represents a media source that delivers media samples directly to the media pipeline.

## -remarks
See the [MediaStreamSource Sample](https://go.microsoft.com/fwlink/p/?LinkID=309021) for an example of using Media Stream Source in a UWP app.

[MediaStreamSource](mediastreamsource.md) is a new generic media source for UWP apps which is introduced in WindowsÂ 8.1. [MediaStreamSource](mediastreamsource.md) allows apps to send compressed or uncompressed audio and video samples to the media pipeline for playback, transcoding, and streaming. Media samples can be dynamically generated by the app, or de-multiplexed from a stream or files. This flexibility enables apps to more easily extend platform support for new media formats or solve complex problems, such as adaptive streaming.

The [MediaStreamSource](mediastreamsource.md)API are very similar to the Microsoft SilverlightAPI of the same name.

[MediaStreamSource](mediastreamsource.md) can be used with [audio](https://msdn.microsoft.com/library/windows/apps/hh441227.aspx) and [video](https://msdn.microsoft.com/library/windows/apps/hh465962.aspx) objects in Windows app using JavaScript, [MediaElement](../windows.ui.xaml.controls/mediaelement.md) objects in UWP apps using C++, C#, or Visual Basic, and the [MediaTranscoder](../windows.media.transcoding/mediatranscoder.md).

 The [MediaStreamSource Sample](https://go.microsoft.com/fwlink/p/?LinkID=309021) demonstrates how to use the [MediaStreamSource](mediastreamsource.md). Here are some of the main [MediaStreamSource](mediastreamsource.md)API. The order outlines the basic flow of how [MediaStreamSource](mediastreamsource.md) functions. You'll notice that the [MediaStreamSource](mediastreamsource.md) sends request objects to the app through event arguments. These request objects enable the app to interact with the [MediaStreamSource](mediastreamsource.md) and pass data back to it.

<table>
   <tr><td>API</td><td>Description</td></tr>
   <tr><td>[MediaStreamSource](mediastreamsource.md)</td><td>Represents a media source that delivers media samples directly to the media pipeline. [MediaStreamSource](mediastreamsource.md) consumes [MediaStreamSample](mediastreamsample.md) objects that are provided by the application.</td></tr>
   <tr><td>[MediaStreamSample](mediastreamsample.md)</td><td>Represents a media sample used by the [MediaStreamSource](mediastreamsource.md).</td></tr>
   <tr><td>[MediaStreamSource.Starting](mediastreamsource_starting.md) (event)</td><td>The [MediaStreamSource](mediastreamsource.md) uses this event to notify the app that it is ready to start processing media data.</td></tr>
   <tr><td>[MediaStreamSourceStartingRequest](mediastreamsourcestartingrequest.md)</td><td>Represents a request from the [MediaStreamSource](mediastreamsource.md) that it is ready to start processing media data.

Apps should reply as soon as possible to this request by calling [SetActualStartPosition](mediastreamsourcestartingrequest_setactualstartposition_661405035.md) on the request. If an app needs to delay the [MediaStreamSource](mediastreamsource.md) from processing data, it can get an asynchronous deferral from [MediaStreamSourceStartingRequest.GetDeferral](mediastreamsourcestartingrequest_getdeferral_254836512.md). When the app is ready for the [MediaStreamSource](mediastreamsource.md) to start, it calls [Complete](mediastreamsourcestartingrequestdeferral_complete_1807836922.md) on the deferral object.

The starting request is accessed through the [MediaStreamSourceStartingEventArgs](mediastreamsourcestartingeventargs.md) that are passed to the [MediaStreamSource.Starting](mediastreamsource_starting.md) event handler.</td></tr>
   <tr><td>[MediaStreamSource.SampleRequested](mediastreamsource_samplerequested.md) (event)</td><td>The [MediaStreamSource](mediastreamsource.md) uses this event to notify the app that it is ready for a [MediaStreamSample](mediastreamsample.md).

Apps are required to register a handler for this event.</td></tr>
   <tr><td>[MediaStreamSourceSampleRequest](mediastreamsourcesamplerequest.md)</td><td>Represents a request from the [MediaStreamSource](mediastreamsource.md) for a new media sample. Setting the [Sample](mediastreamsourcesamplerequest_sample.md) property to the new [MediaStreamSample](mediastreamsample.md) triggers the [MediaStreamSource](mediastreamsource.md) to retrieve the media sample and continue processing the media data.

Apps should reply as soon as possible to this request. If an app needs time before sending the [MediaStreamSample](mediastreamsample.md), it can get an asynchronous deferral from [MediaStreamSourceSampleRequest.GetDeferral](mediastreamsourcesamplerequest_getdeferral_254836512.md). When the app is finished with the deferral, it calls [Complete](mediastreamsourcesamplerequestdeferral_complete_1807836922.md) on the deferral object.

The sample request is accessed through the [MediaStreamSourceSampleRequestedEventArgs](mediastreamsourcesamplerequestedeventargs.md) that are passed to the [MediaStreamSource.SampleRequest](mediastreamsource_samplerequested.md) event handler.

The app indicates it has reached the end of the stream by responding to a [MediaStreamSourceSampleRequest](mediastreamsourcesamplerequest.md) without providing a [MediaStreamSample](mediastreamsample.md), or by assigning the [MediaStreamSourceSampleRequest.Sample](mediastreamsourcesamplerequest_sample.md) property to **null**.</td></tr>
   <tr><td>[MediaStreamSource.Closed](mediastreamsource_closed.md) (event)</td><td>The [MediaStreamSource](mediastreamsource.md) uses this event to notify the app that it has shut down.</td></tr>
   <tr><td>[MediaStreamSourceClosedRequest](mediastreamsourceclosedrequest.md)</td><td>Represents a request from the [MediaStreamSource](mediastreamsource.md) that it has closed.

The close request is accessed through the [MediaStreamSourceClosedEventArgs](mediastreamsourceclosedeventargs.md) that are passed to the [MediaStreamSource.Closed](mediastreamsource_closed.md) event handler.</td></tr>
   <tr><td>[MediaElement.SetMediaStreamSource](../windows.ui.xaml.controls/mediaelement_setmediastreamsource_1064978867.md)</td><td>Sets the source of the [MediaElement](../windows.ui.xaml.controls/mediaelement.md) to a [MediaStreamSource](mediastreamsource.md).</td></tr>
</table>

## -examples

## -see-also
[IMediaSource](imediasource.md), [MediaStreamSource Sample](https://go.microsoft.com/fwlink/p/?LinkID=309021)
